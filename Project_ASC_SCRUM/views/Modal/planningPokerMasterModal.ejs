<!-- Modal -->
<div id="planningPokerMasterModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header" style="background: #354555; color: #ffffff;">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title" style="font-weight: bolder;">Planning Poker</h4>
        <input type='hidden' class='PokerStory' value=''>
        <input type='hidden' class='PokerUser' value='<%=loginId%>'>
        <input type='hidden' class='VotePeople' value=''>
        <input type='hidden' class='AllPeople' value=''>
      </div>
      <div class="modal-body">
      <br>
        <div class="row">
          <div class="text-center">
            <textarea class="PokerStoryContent" disabled style="resize:none; width: 76%; height: 115px;">
          UserStory Title, Content
          </textarea>
          </div>
        </div>
        <br>

        <div class="row text-center">
          <div class="col-xs-2">
            <span>
            	<a class="btn point0.5" style="width: 53%; font-size: 20px; border-radius: 25px; background-color: #F39C12; font-weight: bold;">0.5</a>
            	<input type="text" disabled readonly class='point0' value='' style="background-color:transparent; border:none; text-align:center; height:24px; width: 20px; font-size: 20px; margin-left: 2px;">
            </span>
          </div>
          <div class="col-xs-2">
            <span>
            	<a class="btn" style="width: 45%; font-size: 20px; border-radius: 25px; background-color: #F39C12; font-weight: bold;">1</a>
            	<input type="text" disabled readonly class='point1' value='' style="background-color:transparent; border:none; text-align:center; height:24px; width: 20px; font-size: 20px; margin-left: 2px;">
            </span>
          </div>
          <div class="col-xs-2">  
            <span>
            	<a class="btn" style="width: 45%; font-size: 20px; border-radius: 25px; background-color: #F39C12; font-weight: bold;">2</a>
            	<input type="text" disabled readonly class='point2' value='' style="background-color:transparent; border:none; text-align:center; height:24px; width: 20px; font-size: 20px; margin-left: 2px;">
            </span>
          </div>
          <div class="col-xs-2">
            <span>
            	<a class="btn" style="width: 45%; font-size: 20px; border-radius: 25px; background-color: #F39C12; font-weight: bold;">5</a>
            	<input type="text" disabled readonly class='point5' value='' style="background-color:transparent; border:none; text-align:center; height:24px; width: 20px; font-size: 20px; margin-left: 2px;">
            </span>
          </div>
          <div class="col-xs-2">
            <span>
            	<a class="btn" style="width: 48%; font-size: 20px; border-radius: 25px; background-color: #F39C12; font-weight: bold;">10</a>
            	<input type="text" disabled readonly class='point10' value='' style="background-color:transparent; border:none; text-align:center; height:24px; width: 20px; font-size: 20px; margin-left: 2px;">
						</span>
          </div>
          <div class="col-xs-2">
          	<a class='btn ScoreModal text-center' style="padding-left : 2px; padding-right : 2px; width: 48%; border-radius: 25px; font-size: 20px; background-color: #F39C12; font-weight: bold;" data-toggle="modal" data-target="#planningPokerScoreModal">기타</a>
          </div>
        </div>
        
        <br>
        
        <div class="row">
          <div class="col-xs-5 col-xs-offset-1">
            <span>
            	<label style="font-size: 20px;" >참여자 인원</label>
            	<input type="text" disabled readonly class='Poker_Join_List'value='' style="background-color:transparent; border:none; text-align:center; height:24px; width: 100px; font-size: 20px; margin-left: 10px;">
          	</span>
          </div>
          <div class="col-xs-1 col-xs-offset-1">
            <label style="font-size: 20px;">평균</label>
          </div>
          <div class="col-xs-2">
            <input type="text" disabled readonly class='ScoreAdd' value='' style="text-align:center; width: 100%; font-size: 20px; margin-left: 25px;">
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="col-xs-2 col-xs-offset-4">
          <button type="button" class="btn btn-primary SetScore" style="width: 100%; font-size: 15px; font-weight: bold;">Submit</button>
        </div>
        <div class="col-xs-2">
          <button type="button" data-dismiss="modal" class="btn btn-default" style="width: 100%; font-size: 15px; font-weight: bold; background-color: #333; color: #ffffff;">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>

<% include ../Modal/planningPokerScoreModal.ejs %>
<script>
	//SOCKET Open
	var socket = io.connect();
	//마스터용 포커
	$('.SetScore').on('click', function (e){
		if($('.VotePeople').val() == $('.AllPeople').val()){
			socket.emit('StorySetScore', {
				user_story_no : $('.PokerStory').val(),
				working_time : $('.ScoreAdd').val()
			});
			$('.PokerStory').val('');
			$('.ScoreAdd').val('');
			$(planningPokerMasterModal).modal('hide');
		} else {
			swal({     
				title: '투표가 진행중입니다.',
        type: 'warning',
        confirmButtonText: '닫기'
      })
		}	
	});
	$('.ScoreModal').on('click', function(e){
			var push = $('.PokerStory').val();
			//Poker 정보 호출
			socket.emit('PokerDetail', {
				user_story_no : push,
				project_list_no : <%=project_list_no%>
			});
			location.reload();
		});
		
		
</script>